{"version":3,"file":"js/476.a2493305.js","mappings":"6WAwBA,IAAIA,GAAaC,EAAAA,EAAAA,IAAS,CAAC,GAEvBC,GAAcC,EAAAA,EAAAA,IAAI,IAElBC,GAAeD,EAAAA,EAAAA,MAEfE,GAAcF,EAAAA,EAAAA,MAEdG,EAAQC,SAASC,cAAc,WACnBC,EAAAA,EAAAA,MAGhB,SAASC,KACPC,EAAAA,EAAAA,GAAM,CACJC,OAAQ,MACRC,IAAK,mBACLC,OAAQ,CACNC,GAAIf,EAAWe,MAEhBC,MAAKC,IACe,MAAlBA,EAAIC,KAAKC,KAEVjB,EAAYkB,MAAQH,EAAIC,KAAKG,SAASC,QAEtCC,EAAAA,EAAAA,IAAU,CACRC,KAAM,QACNC,QAAS,mBAEb,GAEJ,CAEA,SAASC,EAAUC,GACjBrB,EAAMsB,OACNxB,EAAagB,MAAQO,EAAIZ,IACzBJ,EAAAA,EAAAA,GAAM,CACJE,IAAK,WACLC,OAAQ,CACNC,GAAIY,EAAIZ,MAETC,MAAKC,IACe,MAAlBA,EAAIC,KAAKC,KACNF,EAAIC,KAAKA,KAAK,GAAGL,KAMnBR,EAAYe,MAAQH,EAAIC,KAAKA,KAAK,GAAGL,IACrCgB,QAAQC,IAAIzB,KANZkB,EAAAA,EAAAA,IAAU,CACRC,KAAM,OACNC,QAAS,0BAObF,EAAAA,EAAAA,IAAU,CACRC,KAAM,QACNC,QAAS,kBAEb,GAEJ,CAEA,SAASM,IACP/B,EAAagC,KAAKC,MAAMC,eAAeC,QAAQ,eACjD,C,OAEEJ,IACArB,I,yVCnFF,MAAM0B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://demo-netease-pc/./src/views/topList/topListAbout.vue","webpack://demo-netease-pc/./src/views/topList/topListAbout.vue?a6e4"],"sourcesContent":["<template>\r\n  <div class=\"container-main\">\r\n    <div class=\"pageMain\">\r\n      <!-- <audio controls ref=\"audio\" class=\"aud\">\r\n        <source src=\"http://m8.music.126.net/20230112170559/25b91b201720c7eee797873dabb6f5e8/ymusic/0fd6/4f65/43ed/a8772889f38dfcb91c04da915b301617.mp3\" />\r\n        </audio> -->\r\n      {{ topListObj.name }}\r\n      <div class=\"muiscContent\">\r\n        <div :class=\"checkMusicId === item.id ?'musicItem checkMusic':'musicItem'\" v-for=\"item in topListDate\" :key=\"item.id\" @click=\"playMusic(item)\">\r\n          {{ item.name }}\r\n        </div>\r\n        \r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive } from 'vue'\r\nimport axios from '@/util/require'\r\nimport { ElMessage } from 'element-plus';\r\nimport { useRouter } from 'vue-router'\r\n\r\n// 榜单详情\r\nlet topListObj = reactive({})\r\n// 榜单数据\r\nlet topListDate = ref([])\r\n// 选中的音乐 id\r\nlet checkMusicId = ref()\r\n// 当前音乐的url\r\nlet newMusicUrl = ref()\r\n\r\nlet audio = document.querySelector('.audio')\r\nconst $router = useRouter()  // 实现路由跳转\r\n\r\n// 初始化榜单数据\r\nfunction infoTopListDate() {\r\n  axios({\r\n    method: 'get',\r\n    url: '/playlist/detail',\r\n    params: {\r\n      id: topListObj.id\r\n    }\r\n  }).then(res => {\r\n    if(res.data.code === 200) {\r\n      // 榜单排行数据\r\n      topListDate.value = res.data.playlist.tracks\r\n    } else {\r\n      ElMessage({\r\n        type: 'error',\r\n        message: '获取榜单数据失败,请稍后重试!'\r\n      })\r\n    }\r\n  })\r\n}\r\n// 点击播放音乐\r\nfunction playMusic(obj) {\r\n  audio.play()\r\n  checkMusicId.value = obj.id\r\n  axios({\r\n    url: 'song/url',\r\n    params: {\r\n      id: obj.id\r\n    }\r\n  }).then(res => {\r\n    if(res.data.code === 200) {\r\n      if(!res.data.data[0].url) {\r\n        ElMessage({\r\n          type: 'info',\r\n          message: '当前音乐的播放地址不存在，请切换其他音乐'\r\n        })\r\n      } else {\r\n        newMusicUrl.value = res.data.data[0].url\r\n        console.log(newMusicUrl)\r\n      }\r\n    } else {\r\n      ElMessage({\r\n        type: 'error',\r\n        message: '当前数据不存在，请稍后重试！'\r\n      })\r\n    }\r\n  })\r\n}\r\n// 获取存储在本地的榜单详情\r\nfunction getTopListInfo() {\r\n  topListObj = JSON.parse(sessionStorage.getItem('topListInfo'))\r\n}\r\ncreate: {\r\n  getTopListInfo()\r\n  infoTopListDate()\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.muiscContent {\r\n  width: 100%;\r\n  height: 90%;\r\n  overflow: auto;\r\n  .musicItem {\r\n    width: 100%;\r\n    height: 50px;\r\n    line-height: 50px;\r\n    padding: 0 20px;\r\n    color: #777;\r\n    cursor: pointer;\r\n    transition: all 0.3s;\r\n    &:hover {\r\n      color: #0ff;\r\n    }\r\n  }\r\n  .checkMusic {\r\n    color: #0ff;\r\n  }\r\n}\r\n</style>","import script from \"./topListAbout.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./topListAbout.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./topListAbout.vue?vue&type=style&index=0&id=34a0a7d7&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\demo\\\\网易云音乐\\\\demo-netease-pc\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-34a0a7d7\"]])\n\nexport default __exports__"],"names":["topListObj","reactive","topListDate","ref","checkMusicId","newMusicUrl","audio","document","querySelector","useRouter","infoTopListDate","axios","method","url","params","id","then","res","data","code","value","playlist","tracks","ElMessage","type","message","playMusic","obj","play","console","log","getTopListInfo","JSON","parse","sessionStorage","getItem","__exports__"],"sourceRoot":""}