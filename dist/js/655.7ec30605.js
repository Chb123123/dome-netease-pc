"use strict";(self["webpackChunkdemo_netease_pc"]=self["webpackChunkdemo_netease_pc"]||[]).push([[655],{2655:function(e,t,a){a.r(t),a.d(t,{default:function(){return S}});a(7658);var l=a(3396),o=a(4870),n=a(7139),s=a(7178),c=a(3436),u=a(2483);const r=e=>((0,l.dD)("data-v-388c50ac"),e=e(),(0,l.Cn)(),e),d={class:"container-main"},i={class:"pageMain"},m={class:"loginContent"},p=r((()=>(0,l._)("h2",{class:"titleStyle"},"登入",-1))),f={class:"inputStyle"},g=r((()=>(0,l._)("span",{style:{flex:"0.2","text-align":"right","margin-right":"20px"}},"输入手机号:",-1))),h={class:"inputStyle"};var v={__name:"index",setup(e){let t=(0,o.iH)(""),a=(0,o.iH)(""),r=(0,o.iH)(!1),v=(0,o.iH)("获取验证码");const _=(0,u.tv)();function I(){""!==a&&""!==t?(0,c.Z)({method:"POST",url:"/captcha/verify",data:{phone:t,captcha:a}}).then((e=>{console.log(e.data),200===e.data.code?_.push("/"):y("验证失败,请重新输入")})):y("手机号或验证码不能为空!")}function S(){(0,c.Z)({url:"login/status"}).then((e=>{200===e.data.data.code?(console.log(e.data.data.account),localStorage.setItem("userInfo",JSON.stringify(e.data.data.account))):(y(),localStorage.removeItem("userInfo"))}))}function y(){s.z8.error("Oops, this is a error message.")}function k(){""!==t?(0,c.Z)({url:"/captcha/sent?phone="+t}).then((e=>{if(console.log(e.data),console.log(t),200===e.data.code){r.value=!0;let e=60,t=setInterval((()=>{e--,v.value=e+"秒后重试",0===e&&(r.value=!1,clearInterval(t))}),1e3);(0,s.z8)({type:"success",message:"发送验证码成功,注意查收!"})}else(0,s.z8)({type:"error",message:"发送验证码失败,请稍后重试!"})})):y("请输入手机号!")}function U(){(0,c.Z)({method:"get",url:"/register/anonimous"}).then((e=>{if(200===e.data.code){let t={userId:e.data.userId,cookie:e.data.cookie};localStorage.getItem("userInfo")?(localStorage.removeItem("userInfo"),localStorage.setItem("userInfo",JSON.stringify(t))):localStorage.setItem("userInfo",JSON.stringify(t)),_.push("/")}}))}function w(){(0,c.Z)({url:"/login/status"}).then((e=>{console.log(e.data.data)}))}return S(),w(),(e,s)=>{const c=(0,l.up)("el-input"),u=(0,l.up)("el-button");return(0,l.wg)(),(0,l.iD)("div",d,[(0,l._)("div",i,[(0,l._)("div",m,[p,(0,l._)("div",f,[g,(0,l.Wm)(c,{modelValue:(0,o.SU)(t),"onUpdate:modelValue":s[0]||(s[0]=e=>(0,o.dq)(t)?t.value=e:t=e),placeholder:"请输入手机号"},null,8,["modelValue"]),(0,l.Wm)(u,{onClick:k,style:{flex:"0.2"},disabled:(0,o.SU)(r)},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)((0,o.SU)(v)),1)])),_:1},8,["disabled"])]),(0,l._)("div",h,[(0,l.Wm)(c,{modelValue:(0,o.SU)(a),"onUpdate:modelValue":s[1]||(s[1]=e=>(0,o.dq)(a)?a.value=e:a=e),placeholder:"输入验证码"},null,8,["modelValue"]),(0,l.Wm)(u,{onClick:k},{default:(0,l.w5)((()=>[(0,l.Uk)("获取验证码")])),_:1})]),(0,l.Wm)(u,{type:"primary",round:"",onClick:I},{default:(0,l.w5)((()=>[(0,l.Uk)("点击登入")])),_:1}),(0,l.Wm)(u,{type:"primary",round:"",onClick:U},{default:(0,l.w5)((()=>[(0,l.Uk)("游客登入")])),_:1})])])])}}},_=a(89);const I=(0,_.Z)(v,[["__scopeId","data-v-388c50ac"]]);var S=I}}]);
//# sourceMappingURL=655.7ec30605.js.map